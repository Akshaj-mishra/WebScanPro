@import "tailwindcss";

/* 1. Explicitly define the dark strategy */
@custom-variant dark (&:where(.dark, .dark *));

@layer base {
  :root {
    color-scheme: light dark; /* Changed order to default to light if no class present */
    scroll-behavior: smooth;
  }

  body {
    /* v4 dynamic background */
    @apply m-0 min-h-screen transition-colors duration-500 antialiased;
    @apply bg-slate-50 text-slate-900; /* Light Mode Defaults */
    @apply dark:bg-slate-950 dark:text-slate-50; /* Dark Mode Overrides */
  }

  /* Remove default Vite button styles that clash with your UI */
  button {
    @apply cursor-pointer transition-all active:scale-95;
  }

  h1, h2, h3 {
    @apply tracking-tight font-bold;
    /* Optional: Improves font rendering on macOS/Chrome */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
}

/* Custom selection color for a premium feel */
::selection {
  @apply bg-blue-500/30 text-blue-200;
}

@keyframes gradient-shift {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

.animate-gradient {
  background-size: 200% auto;
  animation: gradient-shift 4s linear infinite;
}

html.lenis {
  height: auto;
}

.lenis.lenis-smooth {
  scroll-behavior: auto !important;
}

.lenis.lenis-smooth [data-lenis-prevent] {
  overscroll-behavior: contain;
}

.lenis.lenis-stopped {
  overflow: hidden;
}

/* --- Logo & Brand Animations --- */
@layer utilities {
  /* Mesh Rotation: The slow background spin */
  .animate-logo-mesh {
    transform-origin: center;
    animation: logo-spin 25s linear infinite;
  }

  /* Core Pulse: The central spark breathing */
  .animate-logo-spark {
    transform-origin: center;
    animation: logo-pulse 3s ease-in-out infinite;
  }

  /* Orbital Spin: The pink/blue dots */
  .animate-logo-orbit {
    transform-origin: center;
    animation: logo-orbit 12s linear infinite;
  }
}

@keyframes logo-spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

@keyframes logo-pulse {
  0%, 100% { transform: scale(1); opacity: 1; }
  50% { transform: scale(0.94); opacity: 0.8; }
}

@keyframes logo-orbit {
  from { transform: rotate(0deg); }
  to { transform: rotate(-360deg); }
}

/* Add this at the very bottom of index.css */
html.dark body {
  background-color: #020617 !important; /* slate-950 */
}

html:not(.dark) body {
  background-color: #f8fafc !important; /* slate-50 */
}
